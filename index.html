<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Para Ashly ðŸ’œ</title>
  <style>
    :root {
      --bg1: #1a0f2d;
      --bg2: #2d1b4e;
      --accent: #9d4edd;
      --accent2: #c77dff;
      --neon: #e0aaff;
      --txt: #f8f0ff;
      --sparkle: #e0aaff;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body {
      font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
      color: var(--txt);
      background: radial-gradient(ellipse at top, #2a0a4a 0%, #1a0f2d 100%);
      overflow: hidden;
      position: relative;
    }
    
    /* Background Slideshow */
    .background-slideshow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }
    
    .background-slideshow img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      /* Esta regla es para las imÃ¡genes iniciales, que serÃ¡n eliminadas por JS */
    }

    .background-slideshow .random-image {
      position: absolute;
      opacity: 0;
      transition: opacity 4s ease-in-out, transform 4s ease-in-out;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(224, 170, 255, 0.5);
      transform: scale(0.9);
      object-fit: cover;
    }
    
    .wrap {
      height: 100%;
      display: grid;
      place-items: center;
      padding: 24px;
    }
    
    .card {
      width: min(700px, 94vw);
      border-radius: 30px;
      padding: 32px;
      backdrop-filter: blur(10px);
      background: rgba(45, 27, 78, 0.4);
      border: 2px solid rgba(157, 78, 221, 0.3);
      box-shadow: 0 25px 70px rgba(45, 27, 78, 0.6);
      text-align: center;
      position: relative;
      z-index: 1;
      animation: glow 3s ease-in-out infinite alternate;
    }
    
    @keyframes glow {
      from { box-shadow: 0 0 20px rgba(157, 78, 221, 0.3); }
      to { box-shadow: 0 0 40px rgba(224, 170, 255, 0.5); }
    }
    
    h1 {
      margin: 0 0 20px;
      font-size: clamp(24px, 4vw, 38px);
      font-weight: 800;
      text-shadow: 0 0 15px var(--neon);
      background: linear-gradient(45deg, #fff, var(--accent2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: pulseText 2s ease-in-out infinite;
    }
    
    @keyframes pulseText {
      0% { transform: scale(1); text-shadow: 0 0 15px var(--neon); }
      50% { transform: scale(1.05); text-shadow: 0 0 25px var(--neon); }
      100% { transform: scale(1); text-shadow: 0 0 15px var(--neon); }
    }
    
    button {
      appearance: none;
      border: none;
      cursor: pointer;
      padding: 14px 28px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 20px;
      letter-spacing: 1px;
      background: linear-gradient(45deg, var(--accent), var(--accent2));
      color: white;
      box-shadow: 0 0 20px rgba(157, 78, 221, 0.6);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      z-index: 2;
      text-transform: uppercase;
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(224, 170, 255, 0.8);
      letter-spacing: 2px;
    }
    
    button:active {
      transform: translateY(1px);
    }
    
    /* Floating Hearts */
    .heart {
      position: fixed;
      left: var(--x, 50%);
      bottom: 0;
      width: var(--size, 20px);
      height: var(--size, 20px);
      transform: rotate(45deg) scale(0.8);
      background: var(--color, var(--accent));
      box-shadow: 0 0 15px var(--neon);
      border-radius: 6px;
      animation: floatUp var(--dur, 3s) ease-in forwards, 
                 sway var(--dur, 3s) ease-in-out infinite;
      z-index: 0;
      opacity: 0.8;
    }
    
    .heart::before, .heart::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background: inherit;
      border-radius: 50%;
      box-shadow: inherit;
    }
    .heart::before { left: -50%; }
    .heart::after { top: -50%; }

    @keyframes floatUp {
      0% { bottom: 0; opacity: 0.8; transform: rotate(45deg) scale(0.8); }
      50% { opacity: 1; transform: rotate(45deg) scale(1); }
      100% { bottom: 100vh; opacity: 0; transform: rotate(45deg) scale(0.5); }
    }

    @keyframes sway {
      0%, 100% { transform: rotate(45deg) translateX(0); }
      50% { transform: rotate(45deg) translateX(var(--swayX, 20px)); }
    }
    
    /* Floating Messages */
    .message {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(0);
      background: rgba(157, 78, 221, 0.9);
      color: white;
      padding: 15px 25px;
      border-radius: 30px;
      font-weight: 600;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
      opacity: 0;
      z-index: 1000;
      white-space: nowrap;
      animation: floatMessage 5s ease-out forwards;
      backdrop-filter: blur(5px);
      border: 1px solid var(--neon);
    }
    
    @keyframes floatMessage {
      0% { opacity: 0; transform: translateX(-50%) translateY(0); }
      20% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; transform: translateX(-50%) translateY(-100vh); }
    }
    
    /* Music Player */
    .music-controls {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 100;
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .music-player {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(157, 78, 221, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(224, 170, 255, 0.6);
      transition: all 0.3s ease;
      border: 2px solid var(--neon);
    }
    
    .music-player:hover {
      transform: scale(1.1);
      box-shadow: 0 0 30px rgba(224, 170, 255, 0.9);
    }
    
    .music-player i {
      color: white;
      font-size: 24px;
    }
    
    /* Magical Particles */
    .particle {
      position: fixed;
      width: 4px;
      height: 4px;
      background: var(--neon);
      border-radius: 50%;
      pointer-events: none;
      box-shadow: 0 0 10px 2px var(--neon);
      z-index: 0;
      animation: floatParticle 10s linear infinite;
    }
    
    @keyframes floatParticle {
      0% { transform: translateY(0) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { 
        transform: translateY(-100vh) rotate(360deg); 
        opacity: 0; 
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <!-- Background Slideshow -->
  <div class="background-slideshow" id="slideshow">
    <img src="https://i.imgur.com/Ew6HoTp.jpg" alt="Imagen 1" class="active">
    <img src="https://i.imgur.com/u6pxLqo.jpg" alt="Imagen 2">
    <img src="https://i.imgur.com/EySwIat.jpg" alt="Imagen 3">
    <img src="https://i.imgur.com/pWHUJf1.jpg" alt="Imagen 4">
    <img src="https://i.imgur.com/ADo4znv.jpg" alt="Imagen 5">
    <img src="https://i.imgur.com/QPirKKc.jpg" alt="Imagen 6">
  </div>
  
  <div class="wrap">
    <div class="card">
      <h1>Para mi Ashly ðŸ’œ</h1>
      <button id="btn">Â¡Haz llover amor!</button>
    </div>
  </div>
  
  <!-- Music Player -->
  <div class="music-controls">
    <div class="music-player" id="musicToggle" title="Reproducir mÃºsica">
      <i class="fas fa-music"></i>
    </div>
    <div class="music-player" id="volumeToggle" title="Volumen: 20%">
      <i class="fas fa-volume-low"></i>
    </div>
  </div>
  
  <audio id="bgMusic" loop>
    <!--
      Respondiendo a tu pregunta:
      Puedes cambiar la canciÃ³n aquÃ­, pero el enlace en "src" debe ser un enlace directo a un archivo de audio (por ejemplo, que termine en .mp3, .ogg, o .wav).
      No puedes usar un enlace a una pÃ¡gina web como YouTube.
      
      TambiÃ©n puedes usar un archivo local. Si guardas una canciÃ³n llamada "mi_cancion.mp3" en la misma carpeta que este archivo, puedes cambiar el src a "mi_cancion.mp3".
    -->
    <source src="https://files.catbox.moe/k3mm02.mp3" type="audio/mpeg">
  </audio>

  <script>
    // DOM Elements
    const btn = document.getElementById('btn');
    const musicToggle = document.getElementById('musicToggle');
    const volumeToggle = document.getElementById('volumeToggle');
    const bgMusic = document.getElementById('bgMusic');
    const slideshow = document.getElementById('slideshow');
    const images = slideshow.getElementsByTagName('img');
    let isMusicPlaying = false;
    
    // Romantic messages in both languages
    const messages = [
    "You are my star, Ashly ðŸ’«",
      "Siempre serÃ¡s mi luz ðŸ’œ",
      "Forever with you ðŸ’–",
      "Eres mi razÃ³n de sonreÃ­r ðŸ˜Š",
      "Mi amor por ti es infinito ðŸ’«",
      "You complete me ðŸ’",
      "Eres mi sueÃ±o hecho realidad âœ¨",
      "My heart belongs to you ðŸ’—",
      "You are my everything, my forever love ðŸ’ž",
      "Eres la melodÃ­a que alegra mi vida ðŸŽ¶",
      "Without you, life has no meaning ðŸ’”",
      "Eres mi lugar seguro ðŸ¡â¤ï¸",
      "Your smile lights up my world ðŸŒŸ",
      "Mi corazÃ³n late solo por ti ðŸ’“",
      "Every moment with you is magical ðŸª„",
      "Eres mi destino y mi fortuna ðŸ’Ž",
      "You are the melody that makes my soul dance ðŸŽ¶",
      "Eres mi todo, mi amor eterno ðŸ’ž",
      "You are my safe haven ðŸ¡â¤ï¸",
      "Te amo mÃ¡s que a las estrellas del cielo ðŸŒŒ",
      "My heart beats only for you ðŸ’“",
      "Contigo todo es perfecto ðŸ’",
      "You are my destiny and my blessing ðŸ’Ž",
      "Sin ti, nada tendrÃ­a sentido ðŸ’”",
      "With you, everything feels perfect ðŸ’",
      "Cada momento contigo es mÃ¡gico ðŸª„",
      "Eres mi razÃ³n de sonreÃ­r ðŸ˜Š",
      "You complete me ðŸ’",
      "Tu sonrisa ilumina mi mundo ðŸŒŸ",
      "Eres mi sueÃ±o hecho realidad âœ¨",
      "Forever with you ðŸ’–",
      "Mi amor por ti es infinito ðŸ’«",
      "Eres mi estrella, mi luz en la oscuridad ðŸ’œ",
      "You are my star, Ashly ðŸ’«"
    ];
    
    // Helper functions
    function rand(min, max) { 
      return Math.random() * (max - min) + min; 
    }
    
    // Heart creation
    function spawnHeart() {
      const h = document.createElement('div');
      h.className = 'heart';
      const hue = rand(270, 300); // Purple-pink range
      h.style.setProperty('--color', `hsl(${hue}, 80%, 65%)`);
      h.style.setProperty('--size', rand(16, 28) + 'px');
      h.style.setProperty('--x', rand(0, 100) + 'vw');
      h.style.setProperty('--dur', rand(2.5, 4.5) + 's');
      h.style.setProperty('--swayX', rand(-30, 30) + 'px');
      document.body.appendChild(h);
      
      // Remove heart after animation
      setTimeout(() => h.remove(), 5000);
    }
    
    // Create magical particles
    function createParticle() {
      const p = document.createElement('div');
      p.className = 'particle';
      p.style.left = rand(0, 100) + 'vw';
      p.style.top = '100vh';
      p.style.width = p.style.height = rand(2, 6) + 'px';
      p.style.animationDuration = rand(5, 15) + 's';
      p.style.animationDelay = rand(0, 5) + 's';
      document.body.appendChild(p);
      
      // Remove particle after animation
      setTimeout(() => p.remove(), 15000);
    }
    
    // Show floating message
    function showMessage() {
      const msg = document.createElement('div');
      msg.className = 'message';
      msg.textContent = messages[Math.floor(Math.random() * messages.length)];
      msg.style.left = rand(20, 80) + 'vw';
      document.body.appendChild(msg);
      
      // Remove message after animation
      setTimeout(() => msg.remove(), 5000);
    }
    
    // Fill screen with hearts
    function fillHearts() {
      const heartCount = 50;
      for (let i = 0; i < heartCount; i++) {
        setTimeout(() => {
          spawnHeart();
          if (i % 5 === 0) showMessage();
        }, i * 100);
      }
    }
    
    // Background slideshow (Nueva lÃ³gica de imÃ¡genes aleatorias)
    const imageSources = Array.from(images).map(img => img.src);
    Array.from(images).forEach(img => img.remove()); // Eliminar imÃ¡genes estÃ¡ticas originales

    function spawnRandomImage() {
      const slideshowContainer = document.getElementById('slideshow');
      
      const img = document.createElement('img');
      img.className = 'random-image';
      
      const randomSrc = imageSources[Math.floor(Math.random() * imageSources.length)];
      img.src = randomSrc;
      
      const size = rand(150, 400);
      img.style.width = `${size}px`;
      img.style.height = `${size}px`;
      
      // Posicionar la imagen en cualquier lugar, incluso parcialmente fuera de la pantalla
      const top = rand(-20, 80);
      const left = rand(-20, 80);
      img.style.top = `${top}vh`;
      img.style.left = `${left}vw`;
      
      slideshowContainer.appendChild(img);
      
      // AnimaciÃ³n de entrada
      setTimeout(() => {
        img.style.opacity = 0.6;
        img.style.transform = `scale(1)`;
      }, 100);
      
      // AnimaciÃ³n de salida y eliminaciÃ³n
      setTimeout(() => {
        img.style.opacity = 0;
        img.style.transform = `scale(0.9)`;
        setTimeout(() => img.remove(), 4000); // Eliminar despuÃ©s de la transiciÃ³n
      }, 5000); // Mostrar durante 5 segundos
    }
    
    // Event Listeners
    btn.addEventListener('click', fillHearts);
    
    musicToggle.addEventListener('click', () => {
      if (isMusicPlaying) {
        bgMusic.pause();
        musicToggle.innerHTML = '<i class="fas fa-music"></i>';
        musicToggle.title = 'Reproducir mÃºsica';
      } else {
        bgMusic.play().catch(e => console.log('Audio playback failed:', e));
        musicToggle.innerHTML = '<i class="fas fa-pause"></i>';
        musicToggle.title = 'Pausar mÃºsica';
      }
      isMusicPlaying = !isMusicPlaying;
    });

    volumeToggle.addEventListener('click', () => {
      // Reducir volumen en 0.1 (10%). Si es 0, volver a 1.0 (100%).
      let currentVolume = bgMusic.volume;
      let newVolume = Math.round((currentVolume - 0.1) * 10) / 10;

      if (newVolume < 0) {
        newVolume = 1.0;
      }
      
      bgMusic.volume = newVolume;
      
      const volumeIcon = volumeToggle.querySelector('i');
      if (newVolume === 0) {
        volumeIcon.className = 'fas fa-volume-xmark';
      } else if (newVolume <= 0.5) {
        volumeIcon.className = 'fas fa-volume-low';
      } else {
        volumeIcon.className = 'fas fa-volume-high';
      }
      volumeToggle.title = `Volumen: ${Math.round(newVolume * 100)}%`;
    });
    
    // Initialize
    bgMusic.volume = 0.2; // Establecer volumen inicial al 20%
    spawnRandomImage(); // Generar una imagen inmediatamente
    setInterval(spawnRandomImage, 2500); // Generar una nueva imagen cada 2.5 segundos
    
    // Create initial particles
    for (let i = 0; i < 20; i++) {
      setTimeout(createParticle, i * 500);
      setTimeout(createParticle, i * 500 + 250);
    }
    
    // Continuous particle effect
    setInterval(() => {
      if (Math.random() > 0.7) createParticle();
    }, 300);
  </script>
</body>
</html>
